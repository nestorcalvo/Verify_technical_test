
# Verify Technical test Nestor Calvo

Solution for the technical test done by Nestor Calvo CC. 1118871837.

## Documentation

For the creation of this project, multiple functions were created and stored in the utils.py file. A brief descriptions of this functions can be found here (all functions requires the OCR text):

- ***get_pages(text):*** Groups the two numbers that are after the word 'Page' and 'of'.
- ***get_invoice_info(text):*** Returns a dictionary with the information of 'Invoice Date', 'Due Date' and 'Invoice No.', to find this values a set of tabs are counted an the digits between those tabs are selected
- ***get_invoice_ammounts(text):*** Returns a dictionary with the quantities, rate, and ammounts found in the invoices, also, adds the type of invoce. For the ammounts, a set of spaces and numbers are searched and landmarks such as '|' and ':' are used to find the type of invoice.
- ***get_po_box_info(text):*** Uses a positive lookbehind to find elements that are afther the 'PO Box' phrase. Returns the po box name and the address
- ***get_account_info(text):*** Returns the month, the PO number and the account of the invoce
- ***get_info_name(text):*** Returns the name and address of the invoice owner
- ***get_value_currency(text):*** Returns the currency and the total value found at the end of the invoice
- ***get_bank_info(text):*** Returns the information related to the bank, like the account number, the bank name, the payment application used, the swift code, among others. 
- ***get_deparment_info(text):*** Returns basic information of the Accounts Receivable Department.

## Usage/Examples
Connect to API using the api_connection() function in the utils.py file
```python
client = api_connection()
```
Send each file to be process by the Veryfi API
```python
for file_path in files_path:
    file_name = os.path.splitext(os.path.basename(file_path))[0]
    file_name = file_name + '.json'
    response = client.process_document(file_path) 
```
Access the OCR text, generate the JSON file and store it
```python
    text_to_process = response['ocr_text']
    json_file = json_generation(text_to_process)
    store_json(json_file, os.path.join(JSON_PATH, file_name))
```


## Environment Variables

To run this project, you will need to add the following environment variables to your .env file

`CLIENT_ID`: ID of the client generated by Veryfi.

`CLIENT_SECRET`: Client secret generated by Veryfi.

`USERNAME_API`: Username generated by Veryfi.

`API_KEY`: API key generated by Veryfi.


## Authors

- [@nestorcalvo](https://www.github.com/nestorcalvo)


## Demo

Insert gif or link to demo

